@page "/InsertSala"
@inject ISalaService salaService
@inject NavigationManager NavigationManager
<h3>Cadastro de Sala</h3>

<EditForm Model="@salaDto" OnSubmit="@Create">
    <InputText @bind-Value="salaDto!.Nome" placeholder="Nome" />
    <InputText @bind-Value="salaDto!.Ramal" placeholder="Ramal" />
    <InputText @bind-Value="salaDto!.Descricao" placeholder="Descrição" />
    <button type="submit">Salvar</button>
</EditForm>

@code {

    private SalaDto? salaDto { get; set; }

    protected override async Task OnInitializedAsync()
    {
        salaDto ??= new();

        await base.OnInitializedAsync();
    }


    private async Task Create()
    {
        var sala = await salaService.Create(salaDto);
        NavigationManager.NavigateTo("/Sala");

    }
}
